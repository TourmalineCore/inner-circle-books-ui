name: Publish Docker image

on:
  # to allow to wait for a docker image to be published to proceed in another workflow
  workflow_call:

jobs:
  push_to_registry:
    uses: TourmalineCore/inner-circle-github-workflows/.github/workflows/docker_build_and_push.yml@feature/add_reusable_build_and_push_workflow
    # without this it cannot login to the registry
    secrets: inherit